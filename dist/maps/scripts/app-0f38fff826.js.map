{"version":3,"sources":["scripts/app-0f38fff826.js"],"names":[],"mappings":"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","file":"scripts/app-0f38fff826.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ui.router', 'ui.bootstrap', 'toastr', 'ngLodash']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .directive('querybox', querybox);\n\n  /** @ngInject **/\n  function querybox(MapFactory) {\n    return {\n      restrict: 'E',\n      scope: {},\n      templateUrl: 'app/components/querybox/querybox.html',\n      link: function(scope) {\n\n        // Set the default bounds for the searchBox\n        var defaultBounds = new google.maps.LatLngBounds(\n          new google.maps.LatLng(53.861378, -129.453106),\n          new google.maps.LatLng(22.568883, -63.585954));\n\n        // Pre-fill the input and options, to be passed in as arguments when\n        // creating the Autocomplete object on line 22\n        var input = document.getElementById('query-field');\n        var options = {\n          bounds: defaultBounds,\n          types: ['establishment'],\n          componentRestrictions: {\n            country: 'us'\n          }\n        };\n\n        var autocomplete = new google.maps.places.Autocomplete(input, options);\n\n        autocomplete.addListener('place_changed', function() {\n          var placeResult = autocomplete.getPlace();\n\n          if (MapFactory.getStart() && MapFactory.getEnd()) {\n            MapFactory.setPlace(placeResult);\n          } else {\n            if (MapFactory.getStart()) {\n              MapFactory.setRouteCap(placeResult.name, placeResult.geometry.location, placeResult.formatted_address, false);\n              angular.element(input).css('display', 'none');\n            } else {\n              MapFactory.setRouteCap(placeResult.name, placeResult.geometry.location, placeResult.formatted_address, true);\n              input.value = '';\n              input.placeholder = 'Enter your ending addressâ€¦';\n            }\n          }\n        });\n\n        scope.$watch(MapFactory.routeHasBeenCalculated, function(newVal) {\n          if (newVal) {\n            scope.routeCalculated = true;\n          }\n        });\n\n      }\n    };\n  };\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .directive('placesToCheckOut', placesToCheckOut);\n\n  /** @ngInject **/\n  function placesToCheckOut(MapFactory) {\n    return {\n      restrict: 'E',\n      scope: {},\n      templateUrl: 'app/components/placesToCheckout/placesToCheckOut.html',\n      link: function(scope, element) {\n\n        // uib rating variable\n        scope.isReadonly = true;\n\n        scope.$watch(MapFactory.routeHasBeenCalculated, function(newVal) {\n          if (newVal) {\n            var querybox = document.querySelector('#querybox-title');\n            var heightCalc = 'calc(100vh - ' + querybox.offsetHeight.toString() + 'px)';\n            element.css('height', heightCalc);\n            scope.places = MapFactory.getPlaces();\n          }\n        });\n\n        scope.highlightPlace = function(place) {\n          var placeMarker = MapFactory.getMapMarkers()[place.markerPosition];\n          MapFactory.openInfoWindow(placeMarker);\n        };\n\n      }\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .directive('markerlist', markerlist);\n\n  /** @ngInject **/\n  function markerlist(MapFactory) {\n    return {\n      restrict: 'E',\n      scope: {},\n      templateUrl: 'app/components/markerlist/markerlist.html',\n      link: function(scope) {\n        var unbindStart = scope.$watch(MapFactory.getStart, function(newVal) {\n          if (newVal) {\n            scope.start = newVal;\n            // unbindStart();\n          }\n        });\n\n        var unbindEnd = scope.$watch(MapFactory.getEnd, function(newVal) {\n          if (newVal) {\n            scope.end = newVal;\n            // unbindEnd();\n          }\n        });\n      }\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .factory('PlaceFactory', PlaceFactory);\n\n  /** @ngInject **/\n  function PlaceFactory(lodash, $q) {\n\n    var determineNumOfChunks = function(num) {\n      if (num <= 50000) return 2;\n      else if (num > 50000 && num <= 1500000) return 4;\n      else if (num > 1500000) return 5;\n    }\n\n    // Chunk the number of requests to make to Yelp's API based on how far the trip is\n    function chunkPathArr(a, n, balanced) {\n      if (n < 2)\n        return [a];\n\n      var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n      if (len % n === 0) {\n        size = Math.floor(len / n);\n        while (i < len) {\n          out.push(a.slice(i, i += size));\n        }\n      } else if (balanced) {\n        while (i < len) {\n          size = Math.ceil((len - i) / n--);\n          out.push(a.slice(i, i += size));\n        }\n      } else {\n        n--;\n        size = Math.floor(len / n);\n        if (len % size === 0)\n          size--;\n        while (i < size * n) {\n          out.push(a.slice(i, i += size));\n        }\n        out.push(a.slice(size * n));\n      }\n      return out;\n    }\n\n    var placeTypes = [\n      'amusement_park',\n      'aquarium',\n      'art_gallery',\n      'campground',\n      'museum',\n      'shopping_mall',\n      'zoo'\n    ];\n\n    var fac = {\n      getPlacesAlongRoute: function(placeService, routesObj) {\n        var places = [];\n        var placePromises = [];\n\n        var promisifier = function(requestObj) {\n          return $q(function(resolve, reject) {\n            placeService.nearbySearch(requestObj, function(results, status) {\n              if (status == google.maps.places.PlacesServiceStatus.OK) {\n                resolve(results);\n              } else {\n                console.error(status);\n                reject(status);\n              }\n            })\n          });\n        }\n\n        var tripDistance = routesObj.legs[0].distance.value;\n        var numChunks = determineNumOfChunks(tripDistance);\n        var chunkedPathArr = chunkPathArr(routesObj.overview_path, numChunks, true);\n        chunkedPathArr.forEach(function(chunk) {\n          var middle = chunk[Math.floor((chunk.length - 1) / 2)];\n          var request = {\n            location: middle,\n            radius: (tripDistance / numChunks)/2,\n            types: placeTypes,\n            rankBy: google.maps.places.RankBy.PROMINENCE\n          };\n          placePromises.push(promisifier(request));\n        });\n        return $q.all(placePromises);\n      }\n    };\n\n    return fac;\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .factory('MapFactory', MapFactory);\n\n  /** @ngInject **/\n  function MapFactory($rootScope, PlaceFactory) {\n    var map;\n    var start;\n    var end;\n    var mapMarkers = [];\n    var bounds = new google.maps.LatLngBounds();\n    var directionsService = new google.maps.DirectionsService();\n    var places = [];\n    var placeService;\n    var directionsDisplay;\n    var routeCalculated = false;\n    var mapStyleArr = [{\n      \"featureType\": \"administrative\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }, {\n        \"lightness\": 33\n      }]\n    }, {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"color\": \"#f2e5d4\"\n      }]\n    }, {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#c5dac6\"\n      }]\n    }, {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }, {\n        \"lightness\": 20\n      }]\n    }, {\n      \"featureType\": \"road\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"lightness\": 20\n      }]\n    }, {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#c5c6c6\"\n      }]\n    }, {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#e4d7c6\"\n      }]\n    }, {\n      \"featureType\": \"road.local\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#fbfaf7\"\n      }]\n    }, {\n      \"featureType\": \"water\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }, {\n        \"color\": \"#acbcc9\"\n      }]\n    }];\n\n    var initMap = function() {\n      directionsDisplay = new google.maps.DirectionsRenderer();\n      map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 4,\n        center: {\n          lat: 40.207518,\n          lng: -97.198190\n        },\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        disableDefaultUI: true,\n        styles: mapStyleArr\n      });\n      placeService = new google.maps.places.PlacesService(map);\n      directionsDisplay.setMap(map);\n    };\n\n    var fitMapToBounds = function(position) {\n      bounds.extend(position);\n      map.fitBounds(bounds);\n    };\n\n    var sortArrayByRatingDescending = function(a, b) {\n      if (a.rating < b.rating) return -1;\n      else if (a.rating > b.rating) return 1;\n      else return 0;\n    }\n\n    var calculateRoute = function(start, end) {\n      var requestObj = {\n        origin: start.getPosition(),\n        destination: end.getPosition(),\n        travelMode: google.maps.TravelMode.DRIVING\n      };\n      directionsService.route(requestObj, function(result, status) {\n        if (status == google.maps.DirectionsStatus.OK) {\n          directionsDisplay.setDirections(result);\n\n          return PlaceFactory.getPlacesAlongRoute(placeService, result.routes[0])\n            .then(function(arrOfPlaceArrays) {\n              var placesToMap = [];\n              arrOfPlaceArrays.forEach(function(placeArr) {\n                fac.setPlace(placeArr[0]);\n              });\n              routeCalculated = true;\n            }).then(null, console.error);\n        }\n      });\n    };\n\n    var fac = {\n      initiateMap: function() {\n        return initMap();\n      },\n      getMap: function() {\n        return map;\n      },\n      removeMapMarker: function(idx) {\n        mapMarkers.splice(idx, 1);\n        $rootScope.$applyAsync();\n      },\n      clearMapMarkers: function() {\n        mapMarkers.forEach(function(marker) {\n          marker.setMap(null);\n        });\n        mapMarkers = [];\n      },\n      getStart: function() {\n        return start;\n      },\n      getEnd: function() {\n        return end;\n      },\n      getMapMarkers: function() {\n        return mapMarkers;\n      },\n      getPlaces: function() {\n        return places;\n      },\n      routeHasBeenCalculated: function() {\n        return routeCalculated;\n      },\n      createMarker: function(title, latLngObj, address) {\n        var marker = new google.maps.Marker({\n          position: latLngObj,\n          map: map,\n          title: title,\n          address: address\n        });\n\n        var infowindow = new google.maps.InfoWindow({\n          content: '<div class=\"info-window\">' + '<h3 class=\"info-title\">' +\n            title + '</h3>' + '<p class=\"info-description\">' + address + '</p>' + '</div>'\n        });\n\n        marker.infowindow = infowindow;\n\n        marker.addListener('click', function() {\n          infowindow.open(map, marker);\n        });\n\n        marker.setMap(map);\n        mapMarkers.push(marker);\n\n        return marker;\n      },\n      openInfoWindow: function(marker) {\n        // Close all currently open infowindows\n        mapMarkers.forEach(function(mapMarker) {\n          mapMarker.infowindow.close();\n        })\n\n        map.setCenter(marker.getPosition());\n        marker.infowindow.open(map, marker);\n      },\n      setPlace: function(placeObj) {\n        var marker = this.createMarker(placeObj.name, placeObj.geometry.location, placeObj.vicinity);\n\n        mapMarkers.push(marker);\n\n        if (placeObj.photos) {\n          placeObj.photoUrl = placeObj.photos[0].getUrl({'maxWidth': 300, 'maxHeight': 300});\n        }\n        placeObj.markerPosition = mapMarkers.length - 1;\n\n        places.push(placeObj);\n      },\n      setRouteCap: function(title, latLngObj, address, startLocation) {\n        var marker = this.createMarker(title, latLngObj, address);\n\n        if (startLocation) {\n          start = marker;\n        } else {\n          end = marker;\n        }\n\n        if (start && end && !routeCalculated) {\n          calculateRoute(start, end);\n        }\n\n        fitMapToBounds(latLngObj);\n        $rootScope.$applyAsync();\n      }\n    };\n\n    return fac;\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(MapFactory) {\n    MapFactory.initiateMap();\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock() {\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('wayfinder')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"wayfinder\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div id=\\\"map\\\"></div>\");\n$templateCache.put(\"app/components/markerlist/markerlist.html\",\"<ul class=\\\"marker-list list-group\\\"><li class=\\\"marker list-group-item clearfix\\\" ng-show=\\\"start\\\"><div class=\\\"marker-info pull-left\\\"><i class=\\\"fa fa-map-marker pull-left\\\"></i><p class=\\\"starting-with\\\">Starting at</p><p class=\\\"marker-title\\\">{{ start.title }}</p><p class=\\\"marker-address\\\">{{ start.address }}</p></div></li><li class=\\\"marker list-group-item clearfix\\\" ng-show=\\\"end\\\"><div class=\\\"marker-info pull-left\\\"><i class=\\\"fa fa-map-marker pull-left\\\"></i><p class=\\\"ending-with\\\">Ending at</p><p class=\\\"marker-title\\\">{{ end.title }}</p><p class=\\\"marker-address\\\">{{ end.address }}</p></div></li></ul>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand\\\" href=\\\"https://github.com/Swiip/generator-gulp-angular\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span> Gulp Angular</a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-6\\\"><ul class=\\\"nav navbar-nav\\\"><li class=\\\"active\\\"><a ng-href=\\\"#\\\">Home</a></li><li><a ng-href=\\\"#\\\">About</a></li><li><a ng-href=\\\"#\\\">Contact</a></li></ul><ul class=\\\"nav navbar-nav navbar-right acme-navbar-text\\\"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>\");\n$templateCache.put(\"app/components/placesToCheckout/placesToCheckOut.html\",\"<h2 class=\\\"place-list-header\\\"><i class=\\\"fa fa-map-signs\\\"></i>You should check outâ€¦</h2><ul class=\\\"place-list list-group\\\"><li class=\\\"place list-group-item clearfix\\\" ng-repeat=\\\"place in places\\\" ng-click=\\\"highlightPlace(place)\\\"><div class=\\\"place-pic pull-left\\\" ng-show=\\\"place.photoUrl\\\"><img ng-src=\\\"{{ place.photoUrl }}\\\"></div><div class=\\\"place-info\\\"><p class=\\\"place-title\\\">{{ place.name }}</p><p class=\\\"place-address\\\">{{ place.vicinity }}</p><uib-rating ng-model=\\\"place.rating\\\" read-only=\\\"isReadonly\\\"></uib-rating></div></li></ul>\");\n$templateCache.put(\"app/components/querybox/querybox.html\",\"<div id=\\\"querybox-wrapper\\\"><div id=\\\"querybox-title\\\"><img class=\\\"logo\\\" src=\\\"assets/images/logo.png\\\"><h1 class=\\\"app-title\\\">WayFinder</h1><p class=\\\"slogan\\\">Find cool places to stop by on a road trip</p><markerlist></markerlist></div><input type=\\\"text\\\" id=\\\"query-field\\\" placeholder=\\\"Enter your starting addressâ€¦\\\"><places-to-check-out ng-show=\\\"routeCalculated\\\"></places-to-check-out></div>\");}]);"],"sourceRoot":"/source/"}