!function(){"use strict";angular.module("wayfinder",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ui.bootstrap","toastr","ngLodash"])}(),function(){"use strict";function e(e){return{restrict:"E",scope:{},templateUrl:"app/components/querybox/querybox.html",link:function(t){var a=new google.maps.LatLngBounds(new google.maps.LatLng(53.861378,-129.453106),new google.maps.LatLng(22.568883,-63.585954)),n=document.getElementById("query-field"),r={bounds:a,types:["establishment"],componentRestrictions:{country:"us"}},o=new google.maps.places.Autocomplete(n,r);o.addListener("place_changed",function(){var t=o.getPlace();e.getStart()&&e.getEnd()?e.setPlace(t):e.getStart()?(e.setRouteCap(t.name,t.geometry.location,t.formatted_address,!1),angular.element(n).css("display","none")):(e.setRouteCap(t.name,t.geometry.location,t.formatted_address,!0),n.value="",n.placeholder="Enter your ending address…")}),t.$watch(e.routeHasBeenCalculated,function(e){e&&(t.routeCalculated=!0)})}}}e.$inject=["MapFactory"],angular.module("wayfinder").directive("querybox",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{},templateUrl:"app/components/placesToCheckOut/placesToCheckOut.html",link:function(t,a){t.isReadonly=!0,t.$watch(e.routeHasBeenCalculated,function(n){if(n){var r=document.querySelector("#querybox-title"),o="calc(100vh - "+r.offsetHeight.toString()+"px)";a.css("height",o),t.places=e.getPlaces()}}),t.highlightPlace=function(t){var a=e.getMapMarkers()[t.markerPosition];e.openInfoWindow(a)}}}}e.$inject=["MapFactory"],angular.module("wayfinder").directive("placesToCheckOut",e)}(),function(){"use strict";function e(e,t){function a(e,t,a){if(2>t)return[e];var n,r=e.length,o=[],l=0;if(r%t===0)for(n=Math.floor(r/t);r>l;)o.push(e.slice(l,l+=n));else if(a)for(;r>l;)n=Math.ceil((r-l)/t--),o.push(e.slice(l,l+=n));else{for(t--,n=Math.floor(r/t),r%n===0&&n--;n*t>l;)o.push(e.slice(l,l+=n));o.push(e.slice(n*t))}return o}var n=function(e){return 5e4>=e?2:e>5e4&&15e5>=e?4:e>15e5?5:void 0},r=["amusement_park","aquarium","art_gallery","campground","museum","shopping_mall","zoo"],o={getPlacesAlongRoute:function(e,o){var l=[],i=function(a){return t(function(t,n){e.nearbySearch(a,function(e,a){a==google.maps.places.PlacesServiceStatus.OK?t(e):(console.error(a),n(a))})})},s=o.legs[0].distance.value,c=n(s),u=a(o.overview_path,c,!0);return u.forEach(function(e){var t=e[Math.floor((e.length-1)/2)],a={location:t,radius:s/c/2,types:r,rankBy:google.maps.places.RankBy.PROMINENCE};l.push(i(a))}),t.all(l)}};return o}e.$inject=["lodash","$q"],angular.module("wayfinder").factory("PlaceFactory",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.relativeDate=e(t.creationDate).fromNow()}e.$inject=["moment"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("wayfinder").directive("acmeNavbar",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{},templateUrl:"app/components/markerlist/markerlist.html",link:function(t){t.$watch(e.getStart,function(e){e&&(t.start=e)}),t.$watch(e.getEnd,function(e){e&&(t.end=e)})}}}e.$inject=["MapFactory"],angular.module("wayfinder").directive("markerlist",e)}(),function(){"use strict";function e(e,t){var a,n,r,o,l,i=[],s=new google.maps.LatLngBounds,c=new google.maps.DirectionsService,u=[],p=!1,d=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2e5d4"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c5dac6"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",elementType:"all",stylers:[{lightness:20}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#acbcc9"}]}],g=function(){l=new google.maps.DirectionsRenderer,a=new google.maps.Map(document.getElementById("map"),{zoom:4,center:{lat:40.207518,lng:-97.19819},mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,styles:d}),o=new google.maps.places.PlacesService(a),l.setMap(a)},m=function(e){s.extend(e),a.fitBounds(s)},f=function(e,a){var n={origin:e.getPosition(),destination:a.getPosition(),travelMode:google.maps.TravelMode.DRIVING};c.route(n,function(e,a){return a==google.maps.DirectionsStatus.OK?(l.setDirections(e),t.getPlacesAlongRoute(o,e.routes[0]).then(function(e){e.forEach(function(e){h.setPlace(e[0])}),p=!0}).then(null,console.error)):void 0})},h={initiateMap:function(){return g()},getMap:function(){return a},removeMapMarker:function(t){i.splice(t,1),e.$applyAsync()},clearMapMarkers:function(){i.forEach(function(e){e.setMap(null)}),i=[]},getStart:function(){return n},getEnd:function(){return r},getMapMarkers:function(){return i},getPlaces:function(){return u},routeHasBeenCalculated:function(){return p},createMarker:function(e,t,n){var r=new google.maps.Marker({position:t,map:a,title:e,address:n}),o=new google.maps.InfoWindow({content:'<div class="info-window"><h3 class="info-title">'+e+'</h3><p class="info-description">'+n+"</p></div>"});return r.infowindow=o,r.addListener("click",function(){o.open(a,r)}),r.setMap(a),i.push(r),r},openInfoWindow:function(e){i.forEach(function(e){e.infowindow.close()}),a.setCenter(e.getPosition()),e.infowindow.open(a,e)},setPlace:function(e){var t=this.createMarker(e.name,e.geometry.location,e.vicinity);i.push(t),e.photos&&(e.photoUrl=e.photos[0].getUrl({maxWidth:300,maxHeight:300})),e.markerPosition=i.length-1,u.push(e)},setRouteCap:function(t,a,o,l){var i=this.createMarker(t,a,o);l?n=i:r=i,n&&r&&!p&&f(n,r),m(a),e.$applyAsync()}};return h}e.$inject=["$rootScope","PlaceFactory"],angular.module("wayfinder").factory("MapFactory",e)}(),function(){"use strict";function e(e){e.initiateMap()}e.$inject=["MapFactory"],angular.module("wayfinder").controller("MainController",e)}(),function(){"use strict";function e(){}angular.module("wayfinder").run(e)}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("wayfinder").config(e)}(),function(){"use strict";angular.module("wayfinder")}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}e.$inject=["$logProvider","toastrConfig"],angular.module("wayfinder").config(e)}(),angular.module("wayfinder").run(["$templateCache",function(e){e.put("app/main/main.html",'<div id="map"></div>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/Swiip/generator-gulp-angular"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>'),e.put("app/components/markerlist/markerlist.html",'<ul class="marker-list list-group"><li class="marker list-group-item clearfix" ng-show="start"><div class="marker-info pull-left"><i class="fa fa-map-marker pull-left"></i><p class="starting-with">Starting at</p><p class="marker-title">{{ start.title }}</p><p class="marker-address">{{ start.address }}</p></div></li><li class="marker list-group-item clearfix" ng-show="end"><div class="marker-info pull-left"><i class="fa fa-map-marker pull-left"></i><p class="ending-with">Ending at</p><p class="marker-title">{{ end.title }}</p><p class="marker-address">{{ end.address }}</p></div></li></ul>'),e.put("app/components/placesToCheckout/placesToCheckOut.html",'<h2 class="place-list-header"><i class="fa fa-map-signs"></i>You should check out…</h2><ul class="place-list list-group"><li class="place list-group-item clearfix" ng-repeat="place in places" ng-click="highlightPlace(place)"><div class="place-pic pull-left" ng-show="place.photoUrl"><img ng-src="{{ place.photoUrl }}"></div><div class="place-info"><p class="place-title">{{ place.name }}</p><p class="place-address">{{ place.vicinity }}</p><uib-rating ng-model="place.rating" read-only="isReadonly"></uib-rating></div></li></ul>'),e.put("app/components/querybox/querybox.html",'<div id="querybox-wrapper"><div id="querybox-title"><img class="logo" src="assets/images/logo.png"><h1 class="app-title">WayFinder</h1><p class="slogan">Find cool places to stop by on a road trip</p><markerlist></markerlist></div><input type="text" id="query-field" placeholder="Enter your starting address…"><places-to-check-out ng-show="routeCalculated"></places-to-check-out></div>')}]);
//# sourceMappingURL=../maps/scripts/app-0996f93769.js.map
